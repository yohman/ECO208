---
marp: true
theme: uncover
headingDivider: 3
footer: Introduction to Econometrics B | å…¥é–€è¨ˆé‡çµŒæ¸ˆå­¦B ![width:30px](../images/yoh%20with%20globe.png)
paginate: true

---


# ECO208 

#### R and RStudio

Week 4 | October 14, 2022

## <span style="color:green">How you doin'?</span>ğŸ˜
<!-- <br> -->
<!-- <br> -->
<!-- <br> -->
<!-- <br> -->
<!-- <br> -->
<br>
<br>
<br>
<br>

![bg](../images/w4/yellowstone.jpg)


# ä»Šæ—¥ã‚‚Rä¸‰æ˜§

![r and rs](https://user-images.githubusercontent.com/825990/188420488-367d108e-4a4f-40fd-90eb-f034572480c0.png)


## Let's get started

### Launch R Studioã€€ï¼ˆRStudioã‚’ä½¿ãŠã†ï¼‰

Open RStudio, go to File â†’ New Project

<kbd><img alt="new" src="https://user-images.githubusercontent.com/825990/188397384-f3959680-8791-4c06-9c09-2c054ce483cc.png" width=600></kbd>

### Create a new project
![width:700](../images/R%20new%20directory.png)

###
![width:700](../images/r%20new%20project.png)

### Change "W3" to "W4"
![width:700](../images/r%20new%20project%20file%20name.png)

###
![width:1100](../images/r%20project%20starting%20screen.png)

###

Pause: Are we all here?

## Let's load some data! ğŸ¤“
å…ˆé€±ã¨åŒæ§˜ã€gapminderãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ã‚‡ã†ã€‚

- ```data```ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œã‚‹
- å…ˆé€±ã®gapminderãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’ä»Šé€±ã®ãƒ‡ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ã‚³ãƒ”ãƒšã™ã‚‹

## ãƒ‡ãƒ¼ã‚¿ãƒ¼ç¢ºèª

ã¡ã‚ƒã‚“ã¨ãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã‹ï¼Ÿ

ãƒã‚§ãƒƒã‚¯ï¼š

```r
gapminder <- read.csv("data/gapminder_data.csv")
```

### View the data
```r
gapminder
```
```r
head(gapminder)
```
```r
str(gapminder)
```
```r
summary(gapminder)
```

## ggplot2


![](../data/ggplot%20logo.png)
Say hi to ggplot2

https://ggplot2.tidyverse.org/


### Install ggplot2
```r
install.packages("tidyverse")
```
### Create an R script file

![width:1000](../images/r%20new%20script.png)

### RStudio panels

![width:1000](../images/r%20panels.png)

## Using the code editor

### Create a plot

Enter some code in the code editor and press run![](../images/r%20run.png)
```r
# import ggplot
library(ggplot2)

# create a scatter plot
ggplot(data = gapminder, aes(x = gdpPercap, 
                             y = lifeExp
                             )) +
  geom_point()

```
### Explaining the script

![width:1200](../images/ggplot%20code%20explaination.png)

### Add color
```r
# import ggplot
library(ggplot2)

# create a scatter plot
ggplot(data = gapminder, aes(x = gdpPercap, 
                             y = lifeExp, 
                             color=continent
                             )) +
  geom_point()

```

### Stretch the points
```r
# import ggplot
library(ggplot2)

# create a scatter plot
ggplot(data = gapminder, aes(x = gdpPercap, 
                             y = lifeExp, 
                             color=continent,
)) +
  geom_point()  + scale_x_log10()

```

### Make the points semi-transparent
```r
# import ggplot
library(ggplot2)

# create a scatter plot
ggplot(data = gapminder, aes(x = gdpPercap, 
                             y = lifeExp, 
                             color=continent,
)) +
  geom_point(alpha = 0.5)  + scale_x_log10()

```


## Scatter plots in R

ã¨ã‚Šã‚ãˆãšã€R console ãƒ‘ãƒãƒ«ã«æˆ»ã‚Šã¾ã—ã‚‡ã†ï¼ˆå³ä¸‹ï¼‰

### å®Ÿã¯Rã«ã¯ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ¼ãŒã„ã£ã±ã„å«ã¾ã‚Œã¦ã‚‹ã€‚

```R
data()
```

### ä¾‹ãˆã°ã€```women```ã®ãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’èª¿ã¹ã‚ˆã†ã€‚

```r
str(women)
```

```r
head(women)
```

```r
summary(women)
```

### Plot the data

ã¾ãšã¯ãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’```attach()```ã—ã¾ã—ã‚‡ã†ã€‚

```r
attach(women)
```
<span style="font-size:0.6em">```attach```é–¢æ•°ã‚’ä½¿ã†ã¨ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’æŒ‡å®šã—ãªãã¦ã‚‚ã€
ãã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã«å«ã¾ã‚Œã‚‹å¤‰æ•°ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</span>

### plot women


```r
plot(height,weight)
```
<span style="font-size:0.6em">æ•£å¸ƒå›³ã®```x,y```ã®é †ç•ªã§ã™</span>

### Clean the plot

```r
plot(height,
     weight,
     main="US women's height",
     xlab = "Height (cm)", 
     ylab="Weight (pounds)")

```
<span style="font-size:0.6em">ã‚¿ã‚¤ãƒˆãƒ«```main```ã€è»¸ã®ãƒ¬ãƒ¼ãƒ™ãƒ«```xlab,ylab```</span>

### æ•£å¸ƒå›³ã«è¿‘ä¼¼ç›´ç·š(å›å¸°ç›´ç·š)ã‚’ä»˜ã‘ã‚‹

```r
abline(lm(weight~height), col="red")
```

### Try it with a different dataset

åŒã˜ã“ã¨ã‚’ä»Šåº¦ã¯```cars```ã§ã‚„ã£ã¦ã¿ã‚ˆã†ã€‚

### Old Faithful (Yellowstone)

```faithful```ã¨ã¯ï¼Ÿ

![bg right](../images/w4/old%20faithful%20door.jpg)

##
![bg](../images/w4/old_faithful1.jpg)

##
![](../images/w4/geiser%20waiting.JPG)

##
ã€€
æ™‚é–“ãŒãŸã£ãŸã‚‰â€¦
ãƒ‰ãƒƒã‚¬ãƒ¼ãƒ³ï¼ï¼
ğŸŒ‹

![bg right](../images/w4/geisure%20erupting.jpg)

### ãã‚Œã¯ã¨ã‚‚ã‹ã

```faithful``` ã®ãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’èª¿ã¹ã‚ˆã†

- è¡Œã¯ã„ãã¤ã‚ã‚‹ï¼Ÿ How many data points?
- å¤‰æ•°ã®æ•°ã¯ï¼Ÿ How many variables/columns?
- å„å¤‰æ•°ã®å¹³å‡ã¨ä¸­å¤®å€¤ã¯ï¼ŸWhat are the means and medians for each column?
- æ•£å¸ƒå›³ã‚’è¦‹ã›ã¦ï¼ŸCan you create a scatter plot?
- æ•£å¸ƒå›³ã«è¿‘ä¼¼ç›´ç·š(å›å¸°ç›´ç·š)ã‚’ä»˜ã‘ã‚‰ã‚Œã‚‹ï¼ŸCan you add a regression line to the plot?


