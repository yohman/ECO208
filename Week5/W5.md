---
marp: true
theme: uncover
headingDivider: 3
# footer: Introduction to Econometrics B | å…¥é–€è¨ˆé‡çµŒæ¸ˆå­¦B ![width:30px](../images/yoh%20with%20globe.png)
paginate: true

---


# ECO208 

#### R and RStudio

Week 5 | October 21, 2022

## <span style="color:white">How you doin'?</span>ğŸ˜
<!-- <br> -->
<!-- <br> -->
<!-- <br> -->
<!-- <br> -->
<!-- <br> -->
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

![bg](../images/yosemite.jpg)


# ä»Šæ—¥ã‚‚Rä¸‰æ˜§

![r and rs](https://user-images.githubusercontent.com/825990/188420488-367d108e-4a4f-40fd-90eb-f034572480c0.png)

## ã§ã‚‚ãã®å‰ã«å›å¸°åˆ†æã€<br>è¦šãˆã¦ã¾ã™ï¼Ÿ

Let's review

### å›å¸°åˆ†æ is about:

A: scoring points ğŸ€
B:  creating charts ğŸ“ˆ
C:  relationships ğŸ‘©â€â¤ï¸â€ğŸ‘¨

### 
|![width:80px](../Week2/images/x.png)<br>independent variable<br>èª¬æ˜å¤‰æ•°||![width:80px](../Week2/images/y.png)<br>dependent variable<br>ç›®çš„å¤‰æ•°|
|---|---|---|
|Pokemon's caught<br>æ•ã¾ãˆãŸãƒã‚±ãƒ¢ãƒ³æ•°| â¡ï¸ |Distance walked<br>æ­©ã„ãŸè·é›¢|

![width:400](../Week2/images/pokemons.png)

###
#### ãƒ—ãƒ©ã‚¹ã‹ãƒã‚¤ãƒŠã‚¹ï¼Ÿ
![](../Week2/images/plus%20or%20minus.png)

## ä»®è¨­æ¤œå®š

### å¸°ç„¡ä»®èª¬ ã€null hypothesisã€‘
$$H_0 = é§…ã¾ã§ã®å¾’æ­©åˆ†æ•°ã¯å®¶è³ƒã«å…¨ãå½±éŸ¿ãŒãªã„$$

$$coefficient å›å¸°ä¿‚æ•°ã€€\beta_1 = 0$$

### å¯¾ç«‹ä»®èª¬ã€alternative hypothesisã€‘
$$H_1 = é§…ã¾ã§ã®å¾’æ­©åˆ†æ•°ã¯å®¶è³ƒã«å½±éŸ¿ãŒã‚ã‚‹$$
$$\beta_1 \neq 0$$

## ã¾ãšã¯å›å¸°å¼ã‚’ä½œã‚ã†

$$Y = a + bX$$

$$å®¶è³ƒï¼ˆä¸‡å††ï¼‰ï¼ã€€a + b * é§…ã¾ã§å¾’æ­©åˆ†æ•°$$

##

![](../Week2/images/excel%20equation.png)

##

å®¶è³ƒï¼ˆä¸‡å††ï¼‰ï¼ã€€10.09 - 0.125 x é§…ã¾ã§å¾’æ­©åˆ†æ•°

## ã™ãªã‚ã¡

å—æŸã®é§…ã‹ã‚‰ã®å¾’æ­©åˆ†æ•°ãŒ1åˆ†å¢—ãˆã‚‹ã”ã¨ã«
å®¶è³ƒãŒ1250å††æ¸›ã‚‹

## ã§ã¯ã€Œaã€ï¼ˆåˆ‡ç‰‡ï¼‰ã¯ä½•ï¼Ÿ

ã“ã‚Œã¯ã€Œxã€ãŒã‚¼ãƒ­ã®æ™‚ã®æ•°å€¤ã€‚

ã™ãªã‚ã¡ã€é§…ã‹ã‚‰å¾’æ­©åˆ†æ•°ãŒã‚¼ãƒ­ã®è³ƒè²¸ï¼ˆã‚ã‚Šãˆã¾ã™ã‹ï¼Ÿï¼‰ã®å ´åˆã€å®¶è³ƒã¯ï¼‘ï¼.ï¼ï¼™ä¸‡å††


## How good is this model?
#### R2, t-statistic, p-value

## R-Squared: How well does it fit?

R2 = 1 (perfect fit ğŸ˜€)
R2 = 0 (bad fitã€€ğŸ˜–)

![](../Week2/images/r2%20explained.png)

## ã§ã¯ã“ã®åˆ†æã®R2ä¹—ã¯ï¼Ÿ

![](../Week2/images/excel%20r2.png)

##

ã€Œç›®çš„å¤‰æ•°ã§ã‚ã‚‹å®¶è³ƒã¯å€¤å¤‰å‹•ã‚’èª¬æ˜å¤‰æ•°ã§ã‚ã‚‹å¾’æ­©åˆ†æ•°ã¯ï¼‘ï¼‘.ï¼•ï¼™ï¼…ã—ã‹èª¬æ˜ã§ãã¦ã„ãªã„ã€‚ã€


## What about the P value?

På€¤ã§èª¬æ˜å¤‰æ•°ï¼ˆå¾’æ­©åˆ†æ•°ï¼‰ãŒç›®çš„å¤‰æ•°ï¼ˆå®¶è³ƒï¼‰ã«å¯¾ã—ã¦é–¢ä¿‚ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹

##

På€¤ãŒå„ªä½æ°´æº–0.05æœªæº€ã§ã‚ã‚Œã°ã€
ã€Œèª¬æ˜å¤‰æ•°ãŒç›®çš„å¤‰æ•°ã«æœ‰æ„ã«å½±éŸ¿ã—ã¦ã„ã‚‹ã€ã¨åˆ¤æ–­ãŒã§ãã‚‹ã€‚


è¦ã™ã‚‹ã«ã€ã“ã®é–¢ä¿‚æ€§ã¯ãƒ©ãƒ³ãƒ€ãƒ ã§ã¯ãªã„ã®ã§ã€å¸°ç„¡ä»®èª¬ ã€null hypothesisã€‘ã‚’rejectã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

## ã§ã‚‚â€¦

![](../Week2/images/excel%20low%20p.png)

## ã†ã‚ï¼ï¼–.ï¼ï¼™ï¼…ï¼
å¾®å¦™ã€œ
<h1>ğŸ˜‘</h1>

##
å¾®å¦™ã§ã‚‚ã‚ªãƒƒã‚±ãƒ¼ã®åˆ¤æ–­ã¯ã‚ãªãŸæ¬¡ç¬¬ã€‚

æœ‰æ„æ°´æº–ã‚’ä¸Šã’ã¦ã‚‚ã„ã„ã€‚
## è¦ã™ã‚‹ã«ï¼š
ã€Œpå€¤ã®æœ‰æ„æ°´æº–ã‚’ï¼.ï¼‘ã ã¨ã€èª¬æ˜å¤‰æ•°ï¼ˆå¾’æ­©åˆ†æ•°ï¼‰ãŒç›®çš„å¤‰æ•°ï¼ˆå®¶è³ƒï¼‰ã«å¯¾ã—ã¦æœ‰æ„ã«å½±éŸ¿ã—ã¦ã„ã‚‹ã“ã¨ãŒè¨€ãˆã‚‹ã€‚ã€

At 94% level of confidence that relationship is not due to random chance. That relationship actually exists in the housing market.





# ã§ã¯ã€ã“ã‚Œã‚’RStudioã§<br>ã‚„ã£ã¦ã¿ã‚ˆã†ï¼<br>ğŸ‰ğŸ¥³






## Let's get started

### Launch R Studioã€€ï¼ˆRStudioã‚’ä½¿ãŠã†ï¼‰

Open RStudio, go to File â†’ New Project

<kbd><img alt="new" src="https://user-images.githubusercontent.com/825990/188397384-f3959680-8791-4c06-9c09-2c054ce483cc.png" width=600></kbd>

### Create a new project
![width:700](../images/R%20new%20directory.png)

###
![width:700](../images/r%20new%20project.png)

### Change "W3" to "W4"
![width:700](../images/r%20new%20project%20file%20name.png)

###
![width:1100](../images/r%20project%20starting%20screen.png)

###

Pause: Are we all here?



### Create an R script file<br>R Scriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ

![width:1000](../images/r%20new%20script.png)


# Rã§å›å¸°åˆ†æ

## Load the data
```r
# ãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’å–å¾—
chiba <- read.csv("data/chiba rent.csv")

# ãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’è¡¨ç¤º
head(chiba)

# ãƒ‡ãƒ¼ã‚¿ãƒ¼ã®çµ±è¨ˆ
summary(chiba)

```

<span style="font-size:0.6em">ãƒ‡ãƒ¼ã‚¿ãƒ¼ã¯Google Classroomã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</span>

## attach the data

```r
# attach the dataset
attach(chiba)

# æ•£å¸ƒå›³
plot(minutes,rent) # x,y
```
### æ•£å¸ƒå›³ã«è¿‘ä¼¼ç›´ç·š(å›å¸°ç›´ç·š)ã‚’ä»˜ã‘ã‚‹

```r
abline(lm(rent~minutes), col="red")
```
<span style="font-size:0.6em">*æ³¨æ„ï¼```lm(y~x)```ã§ã¯yã¯ç›®çš„å¤‰æ•°ã€xã¯èª¬æ˜å¤‰æ•°ãªã®ã§ã€```plotï¼ˆx,y)```ã¨ã¯é€†</span>

## å¼ã¯ï¼Ÿ

```lm```é–¢æ•°ã‚’ä½¿ãŠã†

```r

lm(y~x, data = dataset) #yã¯ç›®çš„å¤‰æ•°ã€xã¯èª¬æ˜å¤‰æ•°

```
###

```r
# å›å¸°åˆ†æã‚’å®Ÿè¡Œ
lm(rent~minutes)
```

### ```lm``` output
![width:800](../images/w5/lm%20interpretation.png)

### å›å¸°å¼

å®¶è³ƒï¼ˆä¸‡å††ï¼‰ï¼ã€€10.0909 - 0.1252 x é§…ã¾ã§å¾’æ­©åˆ†æ•°

### ã™ãªã‚ã¡

å—æŸã®é§…ã‹ã‚‰ã®å¾’æ­©åˆ†æ•°ãŒ1åˆ†å¢—ãˆã‚‹ã”ã¨ã«
å®¶è³ƒãŒ1250å††æ¸›ã‚‹



### å›å¸°åˆ†æã®```summary()```

ã“ã‚Œã ã‘ã˜ã‚ƒè¶³ã‚Šãªã„ã®ã§â€¦

```r
# å¤‰æ•°ã«å…¥ã‚Œã‚‹
slr = lm(rent~minutes)

# å›å¸°åˆ†æã®summaryçµæœ
summary(slr)
```

### summary output
![](../images/w5/sumary%20output%20explanation.png)

## R-Squared: How well does it fit?

R2 = 1 (perfect fit ğŸ˜€)
R2 = 0 (bad fitã€€ğŸ˜–)

![](../Week2/images/r2%20explained.png)

### ã§ã¯ã“ã®åˆ†æã®R2ä¹—ã¯ï¼Ÿ

![width:700](../images/w5/summary%20r2.png)

### ã™ãªã‚ã¡

ã€Œç›®çš„å¤‰æ•°ã§ã‚ã‚‹å®¶è³ƒã¯å€¤å¤‰å‹•ã‚’èª¬æ˜å¤‰æ•°ã§ã‚ã‚‹å¾’æ­©åˆ†æ•°ã¯ï¼‘ï¼‘.ï¼•ï¼™ï¼…ã—ã‹èª¬æ˜ã§ãã¦ã„ãªã„ã€‚ã€

### På€¤ã¯ï¼Ÿ
![](../images/w5/summary%20p.png)

### è¦ã™ã‚‹ã«ï¼š
ã€Œpå€¤ã®æœ‰æ„æ°´æº–ã‚’ï¼.ï¼‘ã§è¨­å®šã™ã‚‹ã¨ã€èª¬æ˜å¤‰æ•°ï¼ˆå¾’æ­©åˆ†æ•°ï¼‰ãŒç›®çš„å¤‰æ•°ï¼ˆå®¶è³ƒï¼‰ã«å¯¾ã—ã¦æœ‰æ„ã«å½±éŸ¿ã—ã¦ã„ã‚‹ã“ã¨ãŒè¨€ãˆã‚‹ã€‚ã€
##


```r
# ãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’å–å¾—
chiba <- read.csv("data/chiba rent.csv")

# attach ã™ã‚‹
attach(chiba)

# æ•£å¸ƒå›³
plot(minutes,rent)

# æ•£å¸ƒå›³ã«è¿‘ä¼¼ç›´ç·š(å›å¸°ç›´ç·š)ã‚’ä»˜ã‘ã‚‹
abline(lm(rent~minutes), col="red")

# å›å¸°åˆ†æã‚’å®Ÿè¡Œ
lm(rent~minutes)

# å¤‰æ•°ã«å…¥ã‚Œã‚‹
result = lm(rent~minutes)

# å›å¸°åˆ†æã®summaryçµæœ
summary(result)

```

# ã§ã¯ã€it's group time!

